(function(t){function e(e){for(var o,a,d=e[0],l=e[1],r=e[2],s=0,p=[];s<d.length;s++)a=d[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,r||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,d=1;d<n.length;d++){var l=n[d];0!==c[l]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},c={app:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=e,d=d.slice();for(var r=0;r<d.length;r++)e(d[r]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),c={id:"nav"},i=Object(o["f"])("LocalStorageTodo"),a=Object(o["f"])(" | "),d=Object(o["f"])("ApiTodo");function l(t,e){var n=Object(o["u"])("router-link"),l=Object(o["u"])("router-view");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",c,[Object(o["g"])(n,{to:"/"},{default:Object(o["C"])((function(){return[i]})),_:1}),a,Object(o["g"])(n,{to:"/apitodo"},{default:Object(o["C"])((function(){return[d]})),_:1})]),Object(o["g"])(l)],64)}n("a581");const r={};r.render=l;var u=r,s=n("6c02"),p=(n("4de4"),{class:"function"}),b={class:"normal_select"},f=Object(o["g"])("option",{value:"all"},"All",-1),O=Object(o["g"])("option",{value:"active"},"Active",-1),h=Object(o["g"])("option",{value:"complete"},"Complete",-1),j={class:"todobox"},g=Object(o["e"])('<div class="tb_head"><table class="normal_tb"><tr><th width="20%">狀態</th><th width="20%">時間</th><th width="40%">內容</th><th width="20%">功能</th></tr></table></div>',1),m={class:"tb_body"},v={class:"normal_tb"},_={class:"footer"},T={class:"count"},A=Object(o["g"])("button",{class:"normal_btn"},"Claer all",-1);function C(t,e,n,c,i,a){var d=Object(o["u"])("TodoItem");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",p,[Object(o["g"])("label",b,[Object(o["D"])(Object(o["g"])("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return i.filter=t})},[f,O,h],512),[[o["z"],i.filter]])]),Object(o["D"])(Object(o["g"])("input",{type:"text",class:"normal_input","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.addContent=t})},null,512),[[o["A"],i.addContent]]),Object(o["g"])("button",{class:"icon_btn _add material-icons",onClick:e[3]||(e[3]=function(t){return a.addHandler()})}," post_add ")]),Object(o["g"])("div",j,[g,Object(o["g"])("div",m,[Object(o["g"])("table",v,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(a.todoList,(function(t){return Object(o["p"])(),Object(o["d"])(d,{key:t.tId,todo:t.todo,edit:t.tId===i.edit,onEditThis:function(e){return a.editThis(t.tId)},onComplete:function(e){return a.completeHandler(t.tId,e)},onDelete:function(e){return a.deleteHandler(t.tId)}},null,8,["todo","edit","onEditThis","onComplete","onDelete"])})),128))])])]),Object(o["g"])("div",_,[Object(o["g"])("span",T,Object(o["w"])(a.todoList.length),1),A])],64)}var E={width:"20%"},D={class:"normal_check"},I=Object(o["g"])("span",null,null,-1),L=Object(o["g"])("td",{width:"20%"}," 2021.07.16 ",-1),w={width:"40%"},y={key:0},S={key:1},P={width:"20%"},k={class:"d_flex _aic _juc"};function H(t,e,n,c,i,a){return Object(o["p"])(),Object(o["d"])("tr",null,[Object(o["g"])("td",E,[Object(o["g"])("label",D,[Object(o["D"])(Object(o["g"])("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.todo.done=t})},null,512),[[o["y"],n.todo.done]]),I])]),L,Object(o["g"])("td",w,[n.edit?(Object(o["p"])(),Object(o["d"])("span",y,[Object(o["D"])(Object(o["g"])("input",{type:"text",class:"normal_input","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.editingTodo.editContent=t})},null,512),[[o["A"],i.editingTodo.editContent]])])):(Object(o["p"])(),Object(o["d"])("span",S,Object(o["w"])(n.todo.content),1))]),Object(o["g"])("td",P,[Object(o["g"])("div",k,[n.edit?(Object(o["p"])(),Object(o["d"])("button",{key:0,class:"icon_btn _edit material-icons _done",onClick:e[3]||(e[3]=function(e){return t.$emit("complete",i.editingTodo.editContent)})}," done ")):(Object(o["p"])(),Object(o["d"])("button",{key:1,class:"icon_btn _edit material-icons",onClick:e[4]||(e[4]=function(t){return a.editHandler()})}," edit ")),Object(o["g"])("button",{class:"icon_btn _del material-icons",onClick:e[5]||(e[5]=function(e){return t.$emit("delete")})}," delete ")])])])}var x={props:{todo:{type:Object,required:!0},edit:{type:Boolean,default:!1}},data:function(){return{editingTodo:{editContent:""}}},mounted:function(){this.editingTodo.editContent=this.todo.content},methods:{editHandler:function(){this.editingTodo.editContent=this.todo.content,this.$emit("editThis")}}};x.render=H;var $=x,U={data:function(){return{filter:"all",edit:!1,addContent:""}},components:{TodoItem:$},mounted:function(){this.$store.dispatch("LOCAL_READ")},computed:{todoList:function(){return this.$store.getters.localfilterList(this.filter)}},methods:{addHandler:function(){var t="",e=(new Date).getFullYear(),n=(new Date).getMonth()+1;n<9&&(n="0"+n);var o=(new Date).getDate();if(o<9&&(o="0"+o),t=e+"-"+n+"-"+o,""!==this.addContent){var c={date:t,content:this.addContent,done:!1};this.$store.dispatch("LOCAL_CREATE",c)}this.addContent=""},editThis:function(t){this.edit=t},completeHandler:function(t,e){this.$store.dispatch("LOCAL_UPDATE",{tId:t,content:e}),this.edit=null},deleteHandler:function(t){this.$store.dispatch("LOCAL_DELETE",t)}}};U.render=C;var R=U,V={class:"function"},M={class:"normal_select"},J=Object(o["g"])("option",{value:"all"},"All",-1),z=Object(o["g"])("option",{value:"active"},"Active",-1),N=Object(o["g"])("option",{value:"complete"},"Complete",-1),q={class:"todobox"},B=Object(o["e"])('<div class="tb_head"><table class="normal_tb"><tr><th width="20%">狀態</th><th width="20%">時間</th><th width="40%">內容</th><th width="20%">功能</th></tr></table></div>',1),F={class:"tb_body"},Y={class:"normal_tb"},G={class:"footer"},K={class:"count"},Q=Object(o["g"])("button",{class:"normal_btn"},"Claer all",-1);function W(t,e,n,c,i,a){var d=Object(o["u"])("TodoItem");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",V,[Object(o["g"])("label",M,[Object(o["D"])(Object(o["g"])("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return i.filter=t})},[J,z,N],512),[[o["z"],i.filter]])]),Object(o["D"])(Object(o["g"])("input",{type:"text",class:"normal_input","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.addContent=t})},null,512),[[o["A"],i.addContent]]),Object(o["g"])("button",{class:"icon_btn _add material-icons",onClick:e[3]||(e[3]=function(t){return a.addHandler()})}," post_add ")]),Object(o["g"])("div",q,[B,Object(o["g"])("div",F,[Object(o["g"])("table",Y,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(a.list,(function(t){return Object(o["p"])(),Object(o["d"])(d,{key:t.tId,todo:t,edit:t.tId===i.edit,onEditThis:function(e){return a.editThis(t.tId)},onComplete:function(e){return a.completeHandler(t.tId,e)},onDelete:function(e){return a.deleteHandler(t.tId)}},null,8,["todo","edit","onEditThis","onComplete","onDelete"])})),128))])])]),Object(o["g"])("div",G,[Object(o["g"])("span",K,Object(o["w"])(a.list.length),1),Q])],64)}var X={data:function(){return{filter:"all",edit:null,addContent:""}},components:{TodoItem:$},mounted:function(){this.$store.dispatch("API_READ")},computed:{list:function(){return this.$store.getters.ApifilterList(this.filter)}},methods:{addHandler:function(){""!==this.addContent&&this.$store.dispatch("API_CREATE",this.addContent)},editThis:function(t){this.edit=t},completeHandler:function(t,e){console.log("tId",t),console.log("value",e),this.$store.dispatch("API_UPDATE",{tId:t,content:e}),this.edit=null},deleteHandler:function(t){console.log(t),this.$store.dispatch("API_DELETE",t)}}};X.render=W;var Z=X,tt=[{path:"/",name:"Home",component:R},{path:"/apitodo",name:"ApiTodo",component:Z}],et=Object(s["a"])({history:Object(s["b"])("/"),routes:tt}),nt=et,ot=(n("d81d"),n("159b"),n("a434"),n("5502")),ct=function(t){return{load:function(){return JSON.parse(window.localStorage.getItem(t)||"null")},save:function(e){window.localStorage.setItem(t,JSON.stringify(e))}}},it=n("bc3a"),at=n.n(it),dt=new ct("todo-vue"),lt=Object(ot["a"])({state:{localtodo:[],apitodo:[]},getters:{local_tid:function(t){return t.localtodo.map((function(t,e){return{tId:e,todo:t}}))},localfilterList:function(t,e){return function(t){switch(t){case"all":return e.local_tid;case"active":return e.local_tid.filter((function(t){return!t.todo.done}));case"complete":return e.local_tid.filter((function(t){return t.todo.done}))}}},ApifilterList:function(t,e){return function(e){switch(e){case"all":return t.apitodo;case"active":return t.apitodo.filter((function(t){return!t.done}));case"complete":return t.apitodo.filter((function(t){return t.done}))}}}},mutations:{SET_LOCALTODOS:function(t,e){t.localtodo=e},SET_APITODOS:function(t,e){t.apitodo=e}},actions:{LOCAL_CREATE:function(t,e){var n=t.commit,o=dt.load();return null==o&&(o=[]),o.push(e),dt.save(o),n("SET_LOCALTODOS",o),o},API_CREATE:function(t,e){var n=t.commit;console.log(e),at.a.post("/Api/setTodoData.php",e).then((function(t){console.log(t.data)})),at.a.get("/Api/getTodoData.php").then((function(t){var e=[];t.data.forEach((function(t){e.push({tId:t[0],date:t[1],content:t[2],done:0!=t[3]})})),n("SET_APITODOS",e)}))},LOCAL_READ:function(t){var e=t.commit,n=dt.load();return null==n&&(n=[]),e("SET_LOCALTODOS",n),n},API_READ:function(t){var e=t.commit;at.a.get("/Api/getTodoData.php").then((function(t){var n=[];t.data.forEach((function(t){n.push({tId:t[0],date:t[1],content:t[2],done:0!=t[3]})})),e("SET_APITODOS",n)}))},LOCAL_UPDATE:function(t,e){var n=t.commit,o=e.tId,c=e.content,i=dt.load();i[o].content=c,dt.save(i),n("SET_LOCALTODOS",i)},API_UPDATE:function(t,e){var n=t.commit,o=e.tId,c=e.content;console.log("tId",o),console.log("content",c),at.a.post("/Api/updateTodoData.php",{tId:o,content:c}).then((function(t){console.log(t.data)})),at.a.get("/Api/getTodoData.php").then((function(t){var e=[];t.data.forEach((function(t){e.push({tId:t[0],date:t[1],content:t[2],done:0!=t[3]})})),n("SET_APITODOS",e)}))},LOCAL_DELETE:function(t,e){var n=t.commit,o=dt.load();o.splice(e,1)[0],dt.save(o),n("SET_LOCALTODOS",o)},API_DELETE:function(t,e){var n=t.commit;console.log("tId",e),at.a.post("/Api/deleteTodoData.php",e).then((function(t){console.log(t)})),at.a.get("/Api/getTodoData.php").then((function(t){var e=[];t.data.forEach((function(t){e.push({tId:t[0],date:t[1],content:t[2],done:0!=t[3]})})),n("SET_APITODOS",e)}))}}});Object(o["c"])(u).use(lt).use(nt).mount("#app")},"78f5":function(t,e,n){},a581:function(t,e,n){"use strict";n("78f5")}});
//# sourceMappingURL=app.1b2cbe77.js.map